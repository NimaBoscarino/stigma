(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{215:function(e,t,n){e.exports=n(407)},220:function(e,t,n){},239:function(e,t,n){},407:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),i=n.n(c),o=(n(220),n(221),n(23)),s=n(118),u=n(17),l=n.n(u),m=(n(239),n(14)),p=n.n(m),f=n(20),d=n(46),h=n(412),v=n(12),b=n(416),E=h.a.Meta,g=function(e){var t=e.artist;return r.a.createElement(d.b,{to:"/".concat(t.username)},r.a.createElement(v.a,{type:"calendar"}))},x=function(e){var t=e.artist,n=e.user,c=t.details,i=t.followed,s=t.books_open,u=Object(a.useState)(i),m=Object(o.a)(u,2),d=m[0],x=m[1],y=function(){var e=Object(f.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l()("/api/followings",{method:"post",data:{artist_id:c.id},headers:{client:n.client,"access-token":n["access-token"],uid:n.uid}});case 2:e.sent,x(!0);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(f.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l()("/api/followings/".concat(c.id),{method:"delete",headers:{client:n.client,"access-token":n["access-token"],uid:n.uid}});case 2:e.sent,x(!1);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(f.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:d?w(c.id):y(c.id);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(h.a,{hoverable:!0,style:{width:240},cover:r.a.createElement("div",null,s&&r.a.createElement(b.a,{style:{position:"absolute",top:5,right:0},color:"green"},"Books open!"),r.a.createElement("img",{style:{width:"100%"},alt:"example",src:c.avatar})),actions:[r.a.createElement(g,{artist:c}),r.a.createElement(v.a,{onClick:j,type:"heart",theme:d?"filled":null})]},r.a.createElement(E,{title:c.name,description:c.username}))},y=n(193),w=n(27),j=n(74),k=n(75),O=n(78),S=n(76),D=n(79),Y=n(411),C=n(56),M=n(413),I=n(28);function B(){var e=Object(w.a)(["\nwidth: 100%;\n"]);return B=function(){return e},e}function z(){var e=Object(w.a)(["\n  background-color: white;\n  padding-top: 25px;\n  width: 350px;\n  margin-left: 5px;\n  margin-right: 5px;\n  padding-left: 25px;\n  padding-right: 25px;\n  border-radius: 10px;\n  box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.75);\n"]);return z=function(){return e},e}var T=Y.a.Item,L=Object(I.a)(Y.a)(z()),N=Object(I.a)(C.a)(B()),A=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(O.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(){var e=Object(f.a)(p.a.mark(function e(t,a){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t||(console.log("Received values of form: ",a),n.props.onSignIn(a));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}())},n}return Object(D.a)(t,e),Object(k.a)(t,[{key:"hasErrors",value:function(e){return Object.keys(e).some(function(t){return e[t]})}},{key:"render",value:function(){var e=this.props.form,t=e.getFieldDecorator,n=e.getFieldsError,a=e.getFieldError,c=e.isFieldTouched,i=c("email")&&a("email"),o=c("password")&&a("password");return r.a.createElement(L,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(T,{validateStatus:i?"error":"",help:i||""},t("email",{rules:[{required:!0,message:"Please input your email!"}]})(r.a.createElement(M.a,{prefix:r.a.createElement(v.a,{type:"user",style:{fontSize:13}}),placeholder:"Email"}))),r.a.createElement(T,{validateStatus:o?"error":"",help:o||""},t("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(M.a,{prefix:r.a.createElement(v.a,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"Password"}))),r.a.createElement(T,{style:{textAlign:"center",marginBottom:0}},r.a.createElement(N,{type:"primary",htmlType:"submit",className:"login-form-button",loading:this.props.logging_in,disabled:this.hasErrors(n())},this.props.logging_in?null:r.a.createElement(v.a,{type:"smile"}),"Log In"),"Don't have an account? ",r.a.createElement("span",{style:{color:"blue",cursor:"pointer"}},"Register here!")))}}]),t}(r.a.Component),F=Y.a.create({name:"normal_login"})(A);function _(){var e=Object(w.a)(["\n  font-family: 'Lobster Two',cursive;\n  font-weight: bold;\n  font-style: italic;\n  font-size: 7vw;\n  color: white;\n  margin: 5px;\n  margin-bottom: 35px;\n"]);return _=function(){return e},e}function q(){var e=Object(w.a)(["\n  height: 100%;\n  background: rgba(100,100,100,0.4);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return q=function(){return e},e}function P(){var e=Object(w.a)(["\n  height: 100px;\n  margin: 5px;\n"]);return P=function(){return e},e}function R(){var e=Object(w.a)(["\n  background: green;\n  height: 100%;\n  background: url('/assets/background.jpg');\n  box-shadow: 0 0 200px rgba(0,0,0,0.9) inset;\n"]);return R=function(){return e},e}function J(){var e=Object(w.a)(["\n  background: transparent;\n"]);return J=function(){return e},e}var V=n(408).a.Footer,W=Object(I.a)(V)(J()),K=I.a.div(R()),U=I.a.img(P()),Q=I.a.div(q()),$=I.a.h1(_()),G=function(e){e.user;var t=e.setUser,n=function(){var e=Object(f.a)(p.a.mark(function e(n){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/api/auth/sign_in",{email:n.email+"@test.com",password:n.password});case 2:a=e.sent,t(Object(y.a)({},a.data.data,{client:a.headers.client,"access-token":a.headers["access-token"],uid:a.headers.uid}));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(K,null,r.a.createElement(Q,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},r.a.createElement($,null,"Stigma.ink ",r.a.createElement(U,{alt:"logo",src:"/logo.svg"}))),r.a.createElement(F,{onSignIn:n}),r.a.createElement(W,{style:{color:"white"}},"Made with ",r.a.createElement(v.a,{type:"heart",theme:"filled"})," in Vancouver")))};function H(){var e=Object(w.a)(["\n  max-width: 100%;\n  background: black;\n  box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.5);\n  height: 50px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n"]);return H=function(){return e},e}function X(){var e=Object(w.a)(["\n  font-size: 120%;\n  color: white;\n  margin: 0 15px 0 0;\n"]);return X=function(){return e},e}function Z(){var e=Object(w.a)(["\n  font-family: 'Lobster Two',cursive;\n  font-weight: bold;\n  font-style: italic;\n  font-size: 200%;\n  color: white;\n  margin: 0;\n  width: 300px;\n"]);return Z=function(){return e},e}function ee(){var e=Object(w.a)(["\n  height: 40px;\n  margin-left: 10px;\n"]);return ee=function(){return e},e}function te(){var e=Object(w.a)(["\n  color: white;\n  font-size: 130%;\n  margin: 0 5px 0 5px;\n\n  &:visited {\n    color: white;\n  }\n"]);return te=function(){return e},e}function ne(){var e=Object(w.a)(["\n  margin: 0 5px 0 5px;\n"]);return ne=function(){return e},e}var ae=Object(I.a)(C.a)(ne()),re=I.a.h1(te()),ce=function(e){var t=e.to,n=e.children;return r.a.createElement(d.c,{to:t,style:{borderBottom:"solid black 2px"},activeStyle:{borderBottom:"solid white 2px"}},r.a.createElement(re,null,n))},ie=I.a.img(ee()),oe=I.a.h1(Z()),se=I.a.h1(X()),ue=I.a.header(H()),le=function(e){var t=e.user,n=e.logout;return r.a.createElement(ue,null,r.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"0 10px 0 10px"}},r.a.createElement(d.b,{to:"/"},r.a.createElement(oe,null,"Stigma.ink ",r.a.createElement(ie,{alt:"logo",src:"/logo.svg"}))),"Artist"===t.type&&r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement(ce,{to:"/clients"},"Clients"),r.a.createElement(ce,{to:"/questions"},"Questions"),r.a.createElement(ce,{to:"/calendar"},"Calendar")),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"300px"}},r.a.createElement(se,null,t.name),r.a.createElement(ae,{onClick:n},"Log out"))))},me=n(63),pe=n(410),fe=[{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Subject",dataIndex:"text",key:"text"}],de=function(e){var t=e.user,n=Object(a.useState)([]),c=Object(o.a)(n,2),i=c[0],s=c[1];return Object(a.useEffect)(function(){!function(){var e=Object(f.a)(p.a.mark(function e(){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/api/artists/".concat(t.id,"/clients?status=booking"),{headers:{client:t.client,"access-token":t["access-token"],uid:t.uid}});case 2:n=e.sent,s(n.data.clients);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()()},[]),r.a.createElement(pe.a,{columns:fe,dataSource:i})},he=function(e){var t=e.user;return r.a.createElement("div",null,r.a.createElement(de,{user:t}))},ve=[{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Subject",dataIndex:"text",key:"text"}],be=function(e){var t=e.user,n=Object(a.useState)([]),c=Object(o.a)(n,2),i=c[0],s=c[1];return Object(a.useEffect)(function(){!function(){var e=Object(f.a)(p.a.mark(function e(){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/api/artists/".concat(t.id,"/clients?status=inquiry"),{headers:{client:t.client,"access-token":t["access-token"],uid:t.uid}});case 2:n=e.sent,s(n.data.clients);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()()},[]),r.a.createElement(pe.a,{columns:ve,dataSource:i})},Ee=n(415),ge=n(414),xe=n(26),ye=n.n(xe),we=function(e){var t=e.event;return r.a.createElement(h.a,{size:"small",title:t.name,style:{width:"100%",marginBottom:"5px"}},r.a.createElement("p",null,ye()(t.date).format("DD-MM-YYYY")))},je=function(e){var t=e.user,n=Object(a.useState)(ye()()),c=Object(o.a)(n,2),i=c[0],s=c[1],u=Object(a.useState)([]),m=Object(o.a)(u,2),d=m[0],h=m[1];Object(a.useEffect)(function(){!function(){var e=Object(f.a)(p.a.mark(function e(){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l()("/api/artists/".concat(t.username,"/events"));case 2:n=e.sent,h(n.data.events);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()()},[]);var v=function(e){return d.filter(function(t){return e.format("DD-MM-YYYY")===ye()(t.date).format("DD-MM-YYYY")})},b=i&&v(i);return r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("div",{style:{width:"80%"}},r.a.createElement(ge.a,{onSelect:function(e,t){s(e)},defaultValue:i,dateCellRender:function(e){var t=v(e);return r.a.createElement("div",{className:"events"},t.map(function(e){return r.a.createElement(Ee.a,{key:e.id,status:"success",text:e.name})}))}})),r.a.createElement("div",null,r.a.createElement("h2",null,i&&"Events for: ".concat(i.format("YYYY-MM-DD"))),b.map(function(e){return r.a.createElement(we,{key:e.id,event:e})})))},ke=n(409),Oe=function(e){var t=e.user,n=Object(a.useState)(null),c=Object(o.a)(n,2),i=c[0],s=c[1];Object(a.useEffect)(function(){!function(){var e=Object(f.a)(p.a.mark(function e(){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/api/artists/".concat(t.id,"/booksStatus"),{headers:{client:t.client,"access-token":t["access-token"],uid:t.uid}});case 2:n=e.sent,console.log("new value",n.data.booksStatus),s(n.data.booksStatus);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()()},[]);var u=function(){var e=Object(f.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l()("/api/artists/".concat(t.id,"/openBooks"),{method:"post",headers:{client:t.client,"access-token":t["access-token"],uid:t.uid}});case 2:e.sent,s(!0);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(f.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l()("/api/artists/".concat(t.id,"/closeBooks"),{method:"post",headers:{client:t.client,"access-token":t["access-token"],uid:t.uid}});case 2:e.sent,s(!1);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{padding:"25px"}},r.a.createElement("h2",null,"Books Open?"),r.a.createElement(ke.a,{loading:null===i,checked:i,onChange:function(e){e?u():m()}}))},Se=function(e){var t=e.user,n=e.logout;e.match;return r.a.createElement("div",null,r.a.createElement(le,{user:t,logout:n}),r.a.createElement(me.b,{exact:!0,path:"/",component:function(e){return r.a.createElement(Oe,{user:t})}}),r.a.createElement(me.b,{exact:!0,path:"/clients",component:function(e){return r.a.createElement(he,{user:t})}}),r.a.createElement(me.b,{exact:!0,path:"/questions",component:function(e){return r.a.createElement(be,{user:t})}}),r.a.createElement(me.b,{exact:!0,path:"/calendar",component:function(e){return r.a.createElement(je,{user:t})}}))},De=function(e){var t=e.user,n=Object(a.useState)([]),c=Object(o.a)(n,2),i=c[0],s=c[1];return Object(a.useEffect)(function(){!function(){var e=Object(f.a)(p.a.mark(function e(){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/api/artists",{headers:{client:t.client,"access-token":t["access-token"],uid:t.uid}});case 2:n=e.sent,s(n.data.artists);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()()},[t]),r.a.createElement("div",{style:{padding:"25px",display:"flex",flexDirection:"row",flexWrap:"wrap"}},i.map(function(e){return r.a.createElement(x,{key:e.details.id,user:t,artist:e})}))},Ye=function(e){var t=e.user;return r.a.createElement("div",null,r.a.createElement(De,{user:t}))},Ce=n(117),Me=function(e){var t=e.artist,n=Object(a.useState)(ye()()),c=Object(o.a)(n,2),i=c[0],s=c[1],u=Object(a.useState)([]),m=Object(o.a)(u,2),d=m[0],h=m[1];Object(a.useEffect)(function(){(function(){var e=Object(f.a)(p.a.mark(function e(){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l()("/api/artists/".concat(t.username,"/events"));case 2:n=e.sent,h(n.data.events);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}})()()},[]);var v=function(e){return d.filter(function(t){return e.format("DD-MM-YYYY")===ye()(t.date).format("DD-MM-YYYY")})},b=i&&v(i);return r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("div",{style:{width:"80%"}},r.a.createElement(ge.a,{onSelect:function(e,t){s(e)},defaultValue:i,dateCellRender:function(e){var t=v(e);return r.a.createElement("div",{className:"events"},t.map(function(e){return r.a.createElement(Ee.a,{key:e.id,status:"success",text:e.name})}))}})),r.a.createElement("div",null,r.a.createElement("p",null,i&&"Events for: ".concat(i.format("YYYY-MM-DD"))),r.a.createElement("ul",null,b.map(function(e){return r.a.createElement("li",{key:e.id},e.name)}))))};function Ie(){var e=Object(w.a)(["\n  line-height: 0;\n  \n  -webkit-column-count: 4;\n  -webkit-column-gap:   0px;\n  -moz-column-count:    4;\n  -moz-column-gap:      0px;\n  column-count:         4;\n  column-gap:           0px;  \n\n  & img {\n    /* Just in case there are inline attributes */\n    width: 100% !important;\n    height: auto !important;\n    padding: 3px;\n  }\n"]);return Ie=function(){return e},e}var Be=I.a.div(Ie()),ze=function(e){var t=e.src;return r.a.createElement("img",{style:{width:"300px"},alt:t,src:t})},Te=function(e){var t=e.artist,n=Object(a.useState)([]),c=Object(o.a)(n,2),i=c[0],s=c[1];return Object(a.useEffect)(function(){(function(){var e=Object(f.a)(p.a.mark(function e(){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l()("/api/artists/".concat(t.username,"/photos"));case 2:n=e.sent,s(n.data.photos);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}})()()},[]),r.a.createElement(Be,null,i.map(function(e){return r.a.createElement(ze,{key:e.id,src:e.url})}))},Le=function(e){var t=e.artist;return r.a.createElement("div",null,r.a.createElement(Te,{artist:t}))},Ne=[{key:"tab1",tab:"Portfolio"},{key:"tab2",tab:"Calendar"}],Ae=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(O.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(c)))).state={key:"tab1",noTitleKey:"app",contentList:{tab1:r.a.createElement(Le,{artist:n.props.artist}),tab2:r.a.createElement(Me,{artist:n.props.artist})}},n.onTabChange=function(e,t){n.setState(Object(Ce.a)({},t,e))},n}return Object(D.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this,t=(this.props.artist,this.state.contentList);return r.a.createElement("div",null,r.a.createElement(h.a,{style:{width:"100%"},tabList:Ne,activeTabKey:this.state.key,onTabChange:function(t){e.onTabChange(t,"key")}},t[this.state.key]))}}]),t}(r.a.Component),Fe=function(e){function t(e){var n;return Object(j.a)(this,t),(n=Object(O.a)(this,Object(S.a)(t).call(this,e))).fetchData=function(){l.a.get("/api/artists/".concat(n.props.match.params.id),{headers:{client:n.props.user.client,"access-token":n.props.user["access-token"],uid:n.props.user.uid}}).then(function(e){n.setState({artist:e.data.artist})})},n.state={artist:null,photos:[]},n}return Object(D.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this.state,t=e.artist;e.photos;return t?r.a.createElement("div",{style:{margin:"10px"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",margin:"5px"}},r.a.createElement("img",{alt:t.name,src:t.avatar}),r.a.createElement("div",null,r.a.createElement("h2",null,t.name),r.a.createElement("h3",null,t.username))),r.a.createElement(Ae,{artist:t})):"Loading"}}]),t}(a.Component),_e=function(e){var t=e.user,n=e.logout;e.match;return r.a.createElement("div",null,r.a.createElement(le,{user:t,logout:n}),r.a.createElement(me.b,{exact:!0,path:"/",component:function(){return r.a.createElement(Ye,{user:t})}}),r.a.createElement(me.b,{exact:!0,path:"/:id",component:function(e){return r.a.createElement(Fe,Object.assign({},e,{user:t}))}}))},qe=n(208),Pe=function(e){var t=e.user,n=Object(s.a)(e,["user"]);return r.a.createElement(me.b,Object.assign({},n,{render:function(e){return t?n.render(e):r.a.createElement(me.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Re=Object(qe.a)("user"),Je=function(e){var t=e.user,n=Object(s.a)(e,["user"]);return r.a.createElement(me.b,Object.assign({},n,{render:function(e){return t?r.a.createElement(me.a,{to:{pathname:"/",state:{from:e.location}}}):n.render()}}))},Ve=function(e){var t=Re(null),n=Object(o.a)(t,2),a=n[0],c=n[1],i=function(){c(null)};return r.a.createElement("div",{className:"App",style:{height:"100%"}},r.a.createElement(d.a,null,r.a.createElement(me.d,null,r.a.createElement(Je,{exact:!0,path:"/login",user:a,render:function(){return r.a.createElement(G,{user:a,setUser:c})}}),r.a.createElement(Pe,{path:"/",user:a,render:function(e){return"Artist"===a.type?r.a.createElement(Se,Object.assign({},e,{logout:i,user:a})):r.a.createElement(_e,Object.assign({},e,{logout:i,user:a}))}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[215,1,2]]]);
//# sourceMappingURL=main.812d5251.chunk.js.map